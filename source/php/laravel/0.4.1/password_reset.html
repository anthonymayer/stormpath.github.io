

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Password Reset &mdash; Stormpath Laravel  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath Laravel  documentation" href="index.html"/>
        <link rel="next" title="Laravel Events" href="events.html"/>
        <link rel="prev" title="Social Login" href="social_login.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath Laravel</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-does-this-library-do">What does this library do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#who-should-use-stormpath">Who Should Use Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-account">Create a Stormpath Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#bonus-create-a-directory">Bonus: Create a Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#install-the-package">Install the Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#initialize-stormpath-laravel">Initialize Stormpath-Laravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#testing-it-out">Testing It Out</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#other-notes">Other Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#running-an-api">Running an API</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#caching">Caching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_data.html">User Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#current-logged-in-user">Current Logged In User</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#custom-data">Custom Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#user-context">User Context</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registration.html#configuration-options">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#modifying-default-fields">Modifying Default Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#password-strength-rules">Password Strength Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#email-verification">Email Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#auto-login">Auto Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#using-id-site">Using ID Site</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#configuration-options">Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social_login.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#facebook-login">Facebook Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#google-login">Google Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#linkedin-login">LinkedIn Login</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Password Reset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#enable-the-workflow">Enable the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-the-workflow">Using the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="#auto-login">Auto Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-ux">Customizing the UX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Laravel Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#available-events">Available Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#listening-for-events">Listening for Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#terminating-event-actions">Terminating Event Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#event-class-parameters">Event Class Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#developers">Developers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-4-1">Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-3-1">Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-2-0">Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0">Version 0.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc3">Version 0.1.0.RC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc2">Version 0.1.0.RC2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc1">Version 0.1.0.RC1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-alpha2">Version 0.1.0.alpha2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-alpha1">Version 0.1.0.alpha1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrade Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-4-0-version-0-4-1">Version 0.4.0 -&gt; Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-3-1-version-0-4-0">Version 0.3.1 -&gt; Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-3-0-version-0-3-1">Version 0.3.0 -&gt; Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-2-0-version-0-3-0">Version 0.2.0 -&gt; Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-version-0-2-0">Version 0.1.0 -&gt; Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc3-version-0-1-0">Version 0.1.0.RC3 -&gt; Version 0.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc2-version-0-1-0-rc3">Version 0.1.0.RC2 -&gt; Version 0.1.0.RC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc1-version-0-1-0-rc2">Version 0.1.0.RC1 -&gt; Version 0.1.0.RC2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-alpha2-version-0-1-0-rc1">Version 0.1.0.alpha2 -&gt; Version 0.1.0.RC1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-alpha1-version-0-1-0-alpha2">Version 0.1.0.alpha1 -&gt; Version 0.1.0.alpha2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-0-0-version-0-1-0-alpha1">Version 0.0.0 -&gt; Version 0.1.0.alpha1</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath Laravel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Password Reset</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/password_reset.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="password-reset">
<span id="id1"></span><h1>Password Reset<a class="headerlink" href="#password-reset" title="Permalink to this headline">¶</a></h1>
<p>Stormpath provides a self-service password reset flow for your users, allowing
them to request a link that lets them reset their password.  This is a very
secure feature and we highly suggest it for your application.</p>
<div class="section" id="enable-the-workflow">
<h2>Enable the Workflow<a class="headerlink" href="#enable-the-workflow" title="Permalink to this headline">¶</a></h2>
<p>To use the password reset workflow, you need to enable it on the directory
that your application is using.  Login to the <a class="reference external" href="https://api.stormpath.com">Stormpath Admin Console</a> and
find your directory, then navigate to the workflows section of that directory.</p>
<p>Enable the password reset email if it is disabled.</p>
<p>You should also set the <strong>Link Base Url</strong> to be the following URL:</p>
<blockquote>
<div><div class="highlight-sh"><div class="highlight"><pre><span></span>http://localhost:8000/change
</pre></div>
</div>
</div></blockquote>
<p>You then need to enable it in the <code class="docutils literal"><span class="pre">config/stormpath.php</span></code> file:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="s2">&quot;forgotPassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/forgot&quot;</span><span class="p">,</span>
    <span class="s2">&quot;view&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;stormpath::forgot-password&quot;</span><span class="p">,</span>
    <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/login?status=forgot&quot;</span>
<span class="p">],</span>

<span class="s2">&quot;changePassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s2">&quot;autoLogin&quot;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
    <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/change&quot;</span><span class="p">,</span>
    <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/login?status=reset&quot;</span><span class="p">,</span>
    <span class="s2">&quot;view&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;stormpath::change-password&quot;</span><span class="p">,</span>
    <span class="s2">&quot;errorUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/forgot?status=invalid_sptoken&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="using-the-workflow">
<h2>Using the Workflow<a class="headerlink" href="#using-the-workflow" title="Permalink to this headline">¶</a></h2>
<p>You can now complete a password reset workflow by doing the following steps:</p>
<ul class="simple">
<li>The login form at <code class="docutils literal"><span class="pre">/login</span></code> will show a &#8220;Forgot Password?&#8221; link.</li>
<li>Clicking that link will take you to <code class="docutils literal"><span class="pre">/forgot</span></code>, where you can ask for a password reset email</li>
<li>After you receive the email, clicking on the link will take you to <code class="docutils literal"><span class="pre">/change</span></code></li>
<li>You&#8217;ll see a form that allows you to change your password</li>
<li>After changing your password, you are taken to the login form</li>
</ul>
</div>
<div class="section" id="auto-login">
<h2>Auto Login<a class="headerlink" href="#auto-login" title="Permalink to this headline">¶</a></h2>
<p>Our library implements the most secure workflow by default: the user must
request a password reset link, then login again after changing their password.
We recommend these settings for security purposes, but if you wish to automatically
log the user in after they reset their password you can enable that functionality
with this option:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="s2">&quot;web&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;changePassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s2">&quot;autoLogin&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-the-ux">
<h2>Customizing the UX<a class="headerlink" href="#customizing-the-ux" title="Permalink to this headline">¶</a></h2>
<p>You may also change the URLs of the pages in this workflow, as well as the
redirect URLs that we use during the workflow.  This example configuration shows
the default options that you can modify to suit your needs:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="s2">&quot;web&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;forgotPassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/forgot&quot;</span><span class="p">,</span>
        <span class="s2">&quot;view&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;stormpath::forgot-password&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/login?status=forgot&quot;</span>
    <span class="p">],</span>

    <span class="s2">&quot;changePassword&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="s2">&quot;autoLogin&quot;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/change&quot;</span><span class="p">,</span>
        <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/login?status=reset&quot;</span><span class="p">,</span>
        <span class="s2">&quot;view&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;stormpath::change-password&quot;</span><span class="p">,</span>
        <span class="s2">&quot;errorUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/forgot?status=invalid_sptoken&quot;</span>
    <span class="p">]</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="events.html" class="btn btn-neutral float-right" title="Laravel Events">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="social_login.html" class="btn btn-neutral" title="Social Login"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>