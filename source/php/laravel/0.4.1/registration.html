

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Registration &mdash; Stormpath Laravel  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath Laravel  documentation" href="index.html"/>
        <link rel="next" title="Login" href="login.html"/>
        <link rel="prev" title="User Data" href="user_data.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath Laravel</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-does-this-library-do">What does this library do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#who-should-use-stormpath">Who Should Use Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-account">Create a Stormpath Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#bonus-create-a-directory">Bonus: Create a Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#install-the-package">Install the Package</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#initialize-stormpath-laravel">Initialize Stormpath-Laravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#testing-it-out">Testing It Out</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html#other-notes">Other Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#running-an-api">Running an API</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#caching">Caching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_data.html">User Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#current-logged-in-user">Current Logged In User</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#custom-data">Custom Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#user-context">User Context</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-options">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modifying-default-fields">Modifying Default Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="#password-strength-rules">Password Strength Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#email-verification">Email Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#auto-login">Auto Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#using-id-site">Using ID Site</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#configuration-options">Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social_login.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#facebook-login">Facebook Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#google-login">Google Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#linkedin-login">LinkedIn Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="password_reset.html">Password Reset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#enable-the-workflow">Enable the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#using-the-workflow">Using the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#auto-login">Auto Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#customizing-the-ux">Customizing the UX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Laravel Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#available-events">Available Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#listening-for-events">Listening for Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#terminating-event-actions">Terminating Event Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#event-class-parameters">Event Class Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#developers">Developers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-4-1">Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-3-1">Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-2-0">Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0">Version 0.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc3">Version 0.1.0.RC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc2">Version 0.1.0.RC2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc1">Version 0.1.0.RC1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-alpha2">Version 0.1.0.alpha2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-alpha1">Version 0.1.0.alpha1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrade Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-4-0-version-0-4-1">Version 0.4.0 -&gt; Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-3-1-version-0-4-0">Version 0.3.1 -&gt; Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-3-0-version-0-3-1">Version 0.3.0 -&gt; Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-2-0-version-0-3-0">Version 0.2.0 -&gt; Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-version-0-2-0">Version 0.1.0 -&gt; Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc3-version-0-1-0">Version 0.1.0.RC3 -&gt; Version 0.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc2-version-0-1-0-rc3">Version 0.1.0.RC2 -&gt; Version 0.1.0.RC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc1-version-0-1-0-rc2">Version 0.1.0.RC1 -&gt; Version 0.1.0.RC2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-alpha2-version-0-1-0-rc1">Version 0.1.0.alpha2 -&gt; Version 0.1.0.RC1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-alpha1-version-0-1-0-alpha2">Version 0.1.0.alpha1 -&gt; Version 0.1.0.alpha2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-0-0-version-0-1-0-alpha1">Version 0.0.0 -&gt; Version 0.1.0.alpha1</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath Laravel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Registration</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/registration.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="registration">
<span id="id1"></span><h1>Registration<a class="headerlink" href="#registration" title="Permalink to this headline">¶</a></h1>
<p>The registration feature of this library allows you to use Stormpath to create
new accounts in a Stormpath directory.  You can create traditional password-based accounts.</p>
<p>The registration option is enabled automatically and is available at this URL:</p>
<p><a class="reference external" href="http://localhost:8000/register">http://localhost:8000/register</a></p>
<div class="section" id="configuration-options">
<h2>Configuration Options<a class="headerlink" href="#configuration-options" title="Permalink to this headline">¶</a></h2>
<p>This feature supports several options (which can be set in <code class="docutils literal"><span class="pre">config/stormpath.php</span></code>.
This example shows what is possible, we will cover them in detail below:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="s2">&quot;web&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;register&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
      <span class="s2">&quot;enabled&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
      <span class="s2">&quot;uri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/signup&quot;</span><span class="p">,</span>
      <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span>
      <span class="s2">&quot;fields&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
        <span class="cm">/* see next section for documentation */</span>
      <span class="p">},</span>
      <span class="s2">&quot;fieldOrder&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span> <span class="cm">/* see next section */</span> <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="modifying-default-fields">
<h2>Modifying Default Fields<a class="headerlink" href="#modifying-default-fields" title="Permalink to this headline">¶</a></h2>
<p>The registration form will render these fields by default, and they will be
required by the user:</p>
<ul class="simple">
<li>givenName</li>
<li>surname</li>
<li>email</li>
<li>password</li>
</ul>
<p>While email and password will always be required, you do not need to require
givenName and surname.  These can be configured as optional fields, or omitted
entirely.  We&#8217;ll cover each use case in detail.</p>
<p>You can also specify your own custom fields. In this case, the custom data will
be saved with the account and will be accessible via the <code class="docutils literal"><span class="pre">customData</span></code> property
of the account. To add your own fields, add the following to the register config
section for each one of the fields you would like to add:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="s1">&#39;stormpath.web.register.form.fields.customData1&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s1">&#39;enabled&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;customData1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;placeholder&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;customData1&#39;</span><span class="p">,</span>
    <span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s1">&#39;type&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="password-strength-rules">
<h2>Password Strength Rules<a class="headerlink" href="#password-strength-rules" title="Permalink to this headline">¶</a></h2>
<p>Stormpath supports complex password strength rules, such as number of letters
or special characters required.  These settings are controlled on a directory
basis.  If you want to modify the password strength rules for your application
you should use the <a class="reference external" href="https://api.stormpath.com">Stormpath Admin Console</a> to find the directory that is mapped
to your application, and modify it&#8217;s password policy.</p>
<p>For more information see <a class="reference external" href="https://docs.stormpath.com/rest/product-guide/#account-password-strength-policy">Account Password Strength Policy</a>.</p>
</div>
<div class="section" id="email-verification">
<h2>Email Verification<a class="headerlink" href="#email-verification" title="Permalink to this headline">¶</a></h2>
<p>We <strong>highly</strong> recommend that you use email verification, as it adds a layer
of security to your site (it makes it harder for bots to create spam accounts).</p>
<p>One of our favorite Stormpath features is email verification.  When this workflow
is enabled on the directory, we will send the new account an email with a link
that they must click on in order to verify their account.  When they click on
that link they will need to be directed to this URL:</p>
<p><a class="reference external" href="http://localhost:8000/verify?sptoken=TOKEN">http://localhost:8000/verify?sptoken=TOKEN</a></p>
<p>We have to configure our directory in order for this to happen. Use the
<a class="reference external" href="https://api.stormpath.com">Stormpath Admin Console</a> to find the directory of your application, then
go into the Workflows section.  In there you will find the email verification
workflow, which should be enabled by default (enable it if not).  Then modify
the template of the email to use this value for the <cite>Link Base URL</cite>:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>http://localhost:8000/verify
</pre></div>
</div>
<p>When the user arrives on the verification URL, we will verify that their email
link is valid and hasn&#8217;t already been used.  If the link is valid we will redirect
them to the login page.  If there is a problem with the link we provide a form
that allows them to ask for a new link.</p>
</div>
<div class="section" id="auto-login">
<h2>Auto Login<a class="headerlink" href="#auto-login" title="Permalink to this headline">¶</a></h2>
<p>If you are <em>not</em> using email verification (not recommended) you may log users in
automatically when they register.  This can be achieved with this config:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="s2">&quot;register&quot;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="s2">&quot;autoLogin&quot;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">,</span>
    <span class="s2">&quot;nextUri&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;/&quot;</span>
  <span class="p">]</span>
<span class="p">]</span>
</pre></div>
</div>
<p>By default the nextUri is to the <cite>/</cite> page, but you can modify this.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="login.html" class="btn btn-neutral float-right" title="Login">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="user_data.html" class="btn btn-neutral" title="User Data"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>