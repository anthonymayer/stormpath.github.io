

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Quickstart &mdash; Stormpath Laravel  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath Laravel  documentation" href="index.html"/>
        <link rel="next" title="User Data" href="user_data.html"/>
        <link rel="prev" title="Setup" href="setup.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath Laravel</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-does-this-library-do">What does this library do?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#who-should-use-stormpath">Who Should Use Stormpath</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-account">Create a Stormpath Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#bonus-create-a-directory">Bonus: Create a Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup.html#install-the-package">Install the Package</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#environment-variables">Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#initialize-stormpath-laravel">Initialize Stormpath-Laravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing-it-out">Testing It Out</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#other-notes">Other Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-an-api">Running an API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#caching">Caching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_data.html">User Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#current-logged-in-user">Current Logged In User</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#custom-data">Custom Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_data.html#user-context">User Context</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registration.html#configuration-options">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#modifying-default-fields">Modifying Default Fields</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#password-strength-rules">Password Strength Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#email-verification">Email Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#auto-login">Auto Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#using-id-site">Using ID Site</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#configuration-options">Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social_login.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#facebook-login">Facebook Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#google-login">Google Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social_login.html#linkedin-login">LinkedIn Login</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="password_reset.html">Password Reset</a><ul>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#enable-the-workflow">Enable the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#using-the-workflow">Using the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#auto-login">Auto Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#customizing-the-ux">Customizing the UX</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Laravel Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#available-events">Available Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#listening-for-events">Listening for Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#terminating-event-actions">Terminating Event Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#event-class-parameters">Event Class Parameters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Getting Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributors.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contributors.html#developers">Developers</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-4-1">Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-3-1">Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-2-0">Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0">Version 0.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc3">Version 0.1.0.RC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc2">Version 0.1.0.RC2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-rc1">Version 0.1.0.RC1</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-alpha2">Version 0.1.0.alpha2</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#version-0-1-0-alpha1">Version 0.1.0.alpha1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrading.html">Upgrade Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-4-0-version-0-4-1">Version 0.4.0 -&gt; Version 0.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-3-1-version-0-4-0">Version 0.3.1 -&gt; Version 0.4.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-3-0-version-0-3-1">Version 0.3.0 -&gt; Version 0.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-2-0-version-0-3-0">Version 0.2.0 -&gt; Version 0.3.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-version-0-2-0">Version 0.1.0 -&gt; Version 0.2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc3-version-0-1-0">Version 0.1.0.RC3 -&gt; Version 0.1.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc2-version-0-1-0-rc3">Version 0.1.0.RC2 -&gt; Version 0.1.0.RC3</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-rc1-version-0-1-0-rc2">Version 0.1.0.RC1 -&gt; Version 0.1.0.RC2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-alpha2-version-0-1-0-rc1">Version 0.1.0.alpha2 -&gt; Version 0.1.0.RC1</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-1-0-alpha1-version-0-1-0-alpha2">Version 0.1.0.alpha1 -&gt; Version 0.1.0.alpha2</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html#version-0-0-0-version-0-1-0-alpha1">Version 0.0.0 -&gt; Version 0.1.0.alpha1</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath Laravel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Quickstart</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/quickstart.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="quickstart">
<span id="id1"></span><h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>Now that we&#8217;ve got all the prerequisites out of the way, let&#8217;s take a look at
some code!  Integrating Stormpath-Laravel into an application can take as little
as <strong>1 minute</strong>!</p>
<div class="section" id="environment-variables">
<h2>Environment Variables<a class="headerlink" href="#environment-variables" title="Permalink to this headline">¶</a></h2>
<p>In the last section, we gathered our API credentials for the Stormpath API.
Now we&#8217;ll configure our Laravel application to use them.</p>
<p>Open your <code class="docutils literal"><span class="pre">.env</span></code> file and add the following at the end:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nv">STORMPATH_CLIENT_APIKEY_ID</span><span class="o">={</span>ID_FROM_API_CREDENTIALS<span class="o">}</span>
<span class="nv">STORMPATH_CLIENT_APIKEY_SECRET</span><span class="o">={</span>SECRET_FROM_API_CREDENTIALS<span class="o">}</span>
<span class="nv">STORMPATH_APPLICATION_HREF</span><span class="o">={</span>ID_OF_APPLICATION<span class="o">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">STORMPATH_CLIENT_APIKEY_ID</span></code> option should be a long, random string that was generated
and part of the API credentials file you downloaded.</p>
<p>The <code class="docutils literal"><span class="pre">STORMPATH_CLIENT_APIKEY_SECRET</span></code> option should be a long, random string that was generated
and part of the API credentials file you downloaded.</p>
<p>The <code class="docutils literal"><span class="pre">STORMPATH_APPLICATION_HREF</span></code> option requires you to specify your Stormpath Application
href, which can be found under your Application on the <a class="reference external" href="https://api.stormpath.com/v#!applications">Stormpath Applications</a>
dashboard page.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The .env file should not be committed to your VCS</p>
</div>
</div>
<div class="section" id="initialize-stormpath-laravel">
<h2>Initialize Stormpath-Laravel<a class="headerlink" href="#initialize-stormpath-laravel" title="Permalink to this headline">¶</a></h2>
<p>After installing the Stormpath-Laravel package, you need to use add the service provider
to your app config. Open your <code class="docutils literal"><span class="pre">config/app.php</span></code> file and add the following:</p>
<div class="highlight-php"><div class="highlight"><pre><span></span><span class="s1">&#39;providers&#39;</span> <span class="o">=&gt;</span> <span class="p">[</span>
    <span class="o">...</span>
    <span class="nx">Stormpath\Laravel\Support\StormpathLaravelServiceProvider</span><span class="o">::</span><span class="na">class</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<p>The next thing is to publish the stormpath config file.  This can be done by running the following
in your terminal.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>php artisan vendor:publish
</pre></div>
</div>
<p>You will see a new file in your config folder named <code class="docutils literal"><span class="pre">stormpath.php</span></code> which has all the configuration options
for the package.</p>
</div>
<div class="section" id="testing-it-out">
<h2>Testing It Out<a class="headerlink" href="#testing-it-out" title="Permalink to this headline">¶</a></h2>
<p>If you followed the step above, you will now have fully functional
registration, login, and logout functionality active on your site!</p>
<p>Don&#8217;t believe me?  Test it out!  Start up your web server now, and I&#8217;ll
walk you through the basics:</p>
<ul class="simple">
<li>Navigate to <code class="docutils literal"><span class="pre">/register</span></code>.  You will see a registration page.  Go ahead and
enter some information.  You should be able to create a user account.  Once
you&#8217;ve created a user account, you&#8217;ll be automatically logged in, then
redirected back to the root URL (<code class="docutils literal"><span class="pre">/</span></code>, by default).</li>
<li>Navigate to <code class="docutils literal"><span class="pre">/logout</span></code>.  You will now be logged out of your account, then
redirected back to the root URL (<code class="docutils literal"><span class="pre">/</span></code>, by default).</li>
<li>Navigate to <code class="docutils literal"><span class="pre">/login</span></code>.  You will see a login page.  You can now re-enter
your user credentials and log into the site again.</li>
</ul>
<p>Wasn&#8217;t that easy?!</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>You probably noticed that you couldn&#8217;t register a user account without
specifying a sufficiently strong password.  This is because, by default,
Stormpath enforces certain password strength rules on your Stormpath
Directories.</p>
<p class="last">If you&#8217;d like to change these password strength rules (<em>or disable them</em>),
you can do so easily by visiting the <a class="reference external" href="https://api.stormpath.com/ui/dashboard">Stormpath dashboard</a>, navigating to
your user Directory, then changing the &#8220;Password Strength Policy&#8221;.</p>
</div>
</div>
</div>
<div class="section" id="other-notes">
<h1>Other Notes<a class="headerlink" href="#other-notes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="running-an-api">
<h2>Running an API<a class="headerlink" href="#running-an-api" title="Permalink to this headline">¶</a></h2>
<p>If you are running this package for your API, We suggest that you run it on
a separate instance of laravel. This is so you can disable CSRF Verification
for requests. To disable CSRF verification, open your <code class="docutils literal"><span class="pre">app/http/Kernel.php</span></code> file
and comment out the <code class="docutils literal"><span class="pre">\App\Http\Middleware\VerifyCsrfToken::class,</span></code> line.</p>
</div>
<div class="section" id="caching">
<h2>Caching<a class="headerlink" href="#caching" title="Permalink to this headline">¶</a></h2>
<p>This package now relies heavily on caching to improve response times. We cache a
number of items on the first page load and they are cached forever. If you make
any changes to your application through the Stormpath Dashboard, you will need to
clear your laravel cache. Do this by running <code class="docutils literal"><span class="pre">php</span> <span class="pre">artisan</span> <span class="pre">cache:clear</span></code> from the
command line.  Your next request after doing this will take a little longer, but
the cache will be refreshed with the new settings.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="user_data.html" class="btn btn-neutral float-right" title="User Data">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setup.html" class="btn btn-neutral" title="Setup"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath, Inc..
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>